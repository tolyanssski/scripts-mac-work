#!/bin/bash

set -e

function doTask {
    projectName=$1
    cd /home/glex/projects/$projectName
    git checkout tags || git checkout -b tags
    codex-task-f tags
    make gen-go
    lint-fix
    push
}

function doAuth {
    cd /home/glex/projects/br-auth
    git checkout tags || git checkout -b tags
    make gen-go
    lint-fix
    push
}

doTask br-users
doTask br-kyc
doTask br-partnership
doTask br-trading
doTask br-support

doAuth