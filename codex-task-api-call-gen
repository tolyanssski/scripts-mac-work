#!/bin/bash
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

TARGET_DIR=".api-call"
BASE_HOST="https://api.glexglobal.com"

PROMPT="Для каждого OpenAPI метода сгенерируй отдельный bash-скрипт, в котором реализуй пример curl-команды с тестовыми данными, делающей вызов на хост $BASE_HOST. CURL настрой так, чтобы он выводил в консоль полученные заголовки, а также выводил тело ответа, никаких --silent. Для подстановки токена авторизации используй переменную AUTH_TOKEN, которую инициализируй в начале скрипта. Также json payload для POST запросов, где он есть, тоже вынеси в отдельную переменную, чтобы было удобнее редактировать. Каждый скрипт положи в отдельный .sh файл в папке $TARGET_DIR, имя файла пусть будет равно имени метода"

rm -Rf $TARGET_DIR
$DIR/codex-task "$PROMPT"